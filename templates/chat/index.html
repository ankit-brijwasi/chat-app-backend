{% extends "base.html" %}

<!-- body -->
{% block content %}
<div class="content">
  What chat room would you like to enter?<br />
  <input id="room-name-input" type="text" size="100" /><br />
  <input id="room-name-submit" type="button" value="Enter" />
</div>
{% endblock content %}
<!-- ./body -->

<!-- scripts -->
{% block scripts %}
<script>
  document.querySelector("#room-name-input").focus();
  document.querySelector("#room-name-input").onkeyup = function (e) {
    if (e.keyCode === 13) {
      // enter, return
      document.querySelector("#room-name-submit").click();
    }
  };

  document.querySelector("#room-name-submit").onclick = function (e) {
    let roomName = document.querySelector("#room-name-input").value;
    roomName = roomName.trim().replace(/\s/g, "-");
    window.location.pathname = "/chat/" + roomName + "/";
  };
</script>
{% endblock scripts %}
<!-- ./scripts -->
